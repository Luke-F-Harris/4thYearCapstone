<div class="main-container">
  <div class="profile-container">
    <div class="profile-image">
        <img src="{{user_data.image_url}}">
    </div>
    <div class="name-space">
        <p>{{user_stored_data.username}}</p>

    </div>
    <div class="rank-space">
        <p>Current Rank: {{user_stored_data.score}}</p>
        <p>Highest Rank Reached: {{user_stored_data.best_score}}</p>
    </div>



    <div class="upload-header">
      <h2>Upload Your Bot</h2>
  </div>

      <form name="upform" (ngSubmit)="f.form.valid && onSubmit()" #f = "ngForm" novalidate>
        <div class="upload-btn-container">
            <button mat-raised-button class="upload-btn" id=slightHover (click)="fileUpload.click()">
                <mat-icon>cloud_upload</mat-icon>
                <input type="file" name= "code" class="file-input" [(ngModel)]="form.code" (change)="onFileSelected($event)" required #code="ngModel" #fileUpload>
            </button>
            <br>
            <div class="submission-text">
            {{fileName || "No file uploaded."}}
          </div>
        </div>
        <!-- input uploadCodeName-->
        <div class="upload-btn-container">
          <mat-form-field >
              <input matInput placeholder="Upload Code Name" [(ngModel)]="uploadCodeName" name="name" [(ngModel)]="form.name" required #name ="ngModel">
          </mat-form-field>
          <div class="upload-btn-container">
              <button mat-raised-button class="upload-btn" id=slightHover (click)="onSubmit()">
                  Upload
                  <input type="file" class="file-input" (change)="onFileSelected($event)" #fileUpload>
              </button>
          </div>
        </div>
      </form>
    </div>

    <div class="game-list-container">

      <div class="game-list">
        <div class="game-table-title">Previous Games</div>
            <table>
                <tr>
                    <th>
                        Date
                    </th>
                    <th>
                        Result
                    </th>
                    <th>
                        Game Time
                    </th>
                </tr>
                <tr *ngFor="let game of user_data.games.slice(0,20)">
                    <td>
                        <div class="link-container">
                            <a routerLink="game/gameid?={{game.game_id}}">{{game.game_date}}</a>
                        </div>
                    </td>
                    <td>
                        <div class="link-container">
                            <a routerLink="profile/profileid?={{game.game_data.winner}}}"><span
                                    class="norm">Winner:</span> {{game.game_data.winner}}</a>
                        </div>
                        <div class="link-container">
                            <a routerLink="profile/profileid?={{game.game_data.loser}}}"><span
                                    class="norm">Loser:</span> {{game.game_data.loser}}</a>
                        </div>

                    </td>
                    <td>
                        {{game.game_data.game_length}}
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
